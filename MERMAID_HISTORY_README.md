# ğŸ¨ Mermaid å¯è§†åŒ–æ¸²æŸ“å™¨ - å†å²è®°å½•ç‰ˆ

## æ¦‚è¿°

è¿™æ˜¯ Mermaid å¯è§†åŒ–æ¸²æŸ“å™¨çš„æœ€æ–°ç‰ˆæœ¬ï¼Œåœ¨åŸæœ‰åŠŸèƒ½åŸºç¡€ä¸Šå¢åŠ äº†å®Œæ•´çš„å†å²è®°å½•ç®¡ç†åŠŸèƒ½ï¼Œå¹¶é’ˆå¯¹æ‰‹æœºç«¯è¿›è¡Œäº†å…¨é¢ä¼˜åŒ–ã€‚

## ğŸš€ æ–°å¢åŠŸèƒ½

### ğŸ“š å†å²è®°å½•ç®¡ç†
- **è‡ªåŠ¨ä¿å­˜**ï¼šæ¸²æŸ“è¿‡çš„å›¾æ ‡è‡ªåŠ¨è®°å½•åˆ° localStorage
- **å†å²åˆ—è¡¨**ï¼šç›´è§‚çš„å¡ç‰‡å¼å†å²è®°å½•å±•ç¤º
- **å¿«é€Ÿæ“ä½œ**ï¼šä¸€é”®æŸ¥çœ‹ã€åˆ‡æ¢ã€ç¼–è¾‘ã€åˆ é™¤å†å²è®°å½•
- **æ™ºèƒ½æ ‡é¢˜**ï¼šè‡ªåŠ¨ç”Ÿæˆæˆ–è‡ªå®šä¹‰å›¾è¡¨æ ‡é¢˜
- **æ—¶é—´æ˜¾ç¤º**ï¼šäººæ€§åŒ–çš„ç›¸å¯¹æ—¶é—´æ˜¾ç¤ºï¼ˆå¦‚"5åˆ†é’Ÿå‰"ï¼‰

### ğŸ“± æ‰‹æœºç«¯é€‚é…
- **å“åº”å¼å¸ƒå±€**ï¼šè‡ªåŠ¨é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- **è§¦å±ä¼˜åŒ–**ï¼šæŒ‰é’®å¤§å°å’Œé—´è·é€‚åˆè§¦å±æ“ä½œ
- **å•åˆ—å¸ƒå±€**ï¼šæ‰‹æœºç«¯è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸Šä¸‹å¸ƒå±€
- **æŠ˜å é¢æ¿**ï¼šå†å²è®°å½•é¢æ¿æ”¯æŒå±•å¼€/æ”¶èµ·

### âš¡ å¢å¼ºåŠŸèƒ½
- **é”®ç›˜å¿«æ·é”®**ï¼š
  - `Ctrl/Cmd + Enter`ï¼šæ¸²æŸ“å›¾è¡¨
  - `Ctrl/Cmd + S`ï¼šä¿å­˜åˆ°å†å²
  - `ESC`ï¼šå…³é—­å…¨å±æ¨¡å¼
- **è‡ªåŠ¨æ¸²æŸ“**ï¼šè¾“å…¥ä»£ç åè‡ªåŠ¨æ¸²æŸ“ï¼ˆ1ç§’å»¶è¿Ÿï¼‰
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒå¯¼å‡ºå†å²è®°å½•ä¸º JSON æ–‡ä»¶
- **å…¨å±æŸ¥çœ‹**ï¼šæ”¯æŒå…¨å±æ¨¡å¼æŸ¥çœ‹å›¾è¡¨

## ğŸ“‹ åŠŸèƒ½åˆ—è¡¨

### åŸºç¡€åŠŸèƒ½
- [x] Mermaid ä»£ç å®æ—¶æ¸²æŸ“
- [x] PNG/SVG å›¾ç‰‡ä¸‹è½½
- [x] å›¾ç‰‡å¤åˆ¶åˆ°å‰ªè´´æ¿
- [x] å…¨å±æŸ¥çœ‹æ¨¡å¼
- [x] é”™è¯¯æç¤ºå’ŒçŠ¶æ€åé¦ˆ

### å†å²è®°å½•åŠŸèƒ½
- [x] è‡ªåŠ¨ä¿å­˜æ¸²æŸ“è®°å½•
- [x] å†å²è®°å½•åˆ—è¡¨å±•ç¤º
- [x] å¿«é€ŸåŠ è½½å†å²é¡¹
- [x] ç¼–è¾‘å†å²è®°å½•æ ‡é¢˜å’Œä»£ç 
- [x] åˆ é™¤å•ä¸ªå†å²è®°å½•
- [x] æ¸…ç©ºæ‰€æœ‰å†å²è®°å½•
- [x] å¯¼å‡ºå†å²è®°å½•æ•°æ®
- [x] å†å²è®°å½•æ•°é‡é™åˆ¶ï¼ˆæœ€å¤š50æ¡ï¼‰

### ç§»åŠ¨ç«¯ä¼˜åŒ–
- [x] å“åº”å¼è®¾è®¡
- [x] è§¦å±å‹å¥½çš„æŒ‰é’®å¤§å°
- [x] å•åˆ—å¸ƒå±€é€‚é…
- [x] çŠ¶æ€æ¶ˆæ¯ä½ç½®ä¼˜åŒ–
- [x] å…¨å±æ¨¡å¼ç§»åŠ¨ç«¯é€‚é…

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬æ“ä½œ
1. åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ Mermaid ä»£ç 
2. ç‚¹å‡»"ğŸ¨ æ¸²æŸ“å›¾è¡¨"æŒ‰é’®æŸ¥çœ‹æ•ˆæœ
3. ä½¿ç”¨ä¸‹è½½æˆ–å¤åˆ¶æŒ‰é’®ä¿å­˜å›¾è¡¨

### å†å²è®°å½•æ“ä½œ
1. ç‚¹å‡»"ğŸ’¾ ä¿å­˜åˆ°å†å²"å°†å½“å‰å›¾è¡¨ä¿å­˜
2. ç‚¹å‡»"ğŸ“š å†å²è®°å½•"æŸ¥çœ‹å†å²åˆ—è¡¨
3. åœ¨å†å²åˆ—è¡¨ä¸­ï¼š
   - ç‚¹å‡»é¡¹ç›®ï¼šåŠ è½½è¯¥å†å²è®°å½•
   - ç‚¹å‡»"ç¼–è¾‘"ï¼šä¿®æ”¹æ ‡é¢˜å’Œä»£ç 
   - ç‚¹å‡»"åˆ é™¤"ï¼šåˆ é™¤è¯¥è®°å½•

### å¿«æ·é”®
- `Ctrl/Cmd + Enter`ï¼šå¿«é€Ÿæ¸²æŸ“
- `Ctrl/Cmd + S`ï¼šä¿å­˜åˆ°å†å²
- `ESC`ï¼šå…³é—­å…¨å±

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### æ•°æ®å­˜å‚¨
- ä½¿ç”¨ `localStorage` æœ¬åœ°å­˜å‚¨å†å²è®°å½•
- æ•°æ®æ ¼å¼ï¼šJSONï¼ŒåŒ…å«æ ‡é¢˜ã€ä»£ç ã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯
- è‡ªåŠ¨å»é‡ï¼šç›¸åŒä»£ç çš„è®°å½•ä¼šæ›´æ–°æ—¶é—´æˆ³è€Œéé‡å¤ä¿å­˜

### æ€§èƒ½ä¼˜åŒ–
- å†å²è®°å½•æ•°é‡é™åˆ¶ï¼šæœ€å¤šä¿å­˜50æ¡è®°å½•
- è‡ªåŠ¨æ¸²æŸ“èŠ‚æµï¼šè¾“å…¥åœæ­¢1ç§’åæ‰æ¸²æŸ“
- å›¾ç‰‡ç”Ÿæˆä½¿ç”¨ `html2canvas` åº“ï¼Œè´¨é‡è®¾ç½®ä¸º2x

### å…¼å®¹æ€§
- ç°ä»£æµè§ˆå™¨æ”¯æŒï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰
- ç§»åŠ¨ç«¯æµè§ˆå™¨æ”¯æŒ
- éœ€è¦æ”¯æŒ `localStorage` å’Œ `Clipboard API`

## ğŸ“± ç§»åŠ¨ç«¯ä½¿ç”¨

### å¸ƒå±€å˜åŒ–
- å±å¹•å®½åº¦ â‰¤ 768pxï¼šåˆ‡æ¢ä¸ºå•åˆ—å¸ƒå±€
- å†å²è®°å½•æŒ‰é’®ç§»è‡³æ ‡é¢˜ä¸‹æ–¹
- ç¼–è¾‘å™¨å’Œé¢„è§ˆé¢æ¿å‚ç›´æ’åˆ—

### æ“ä½œä¼˜åŒ–
- æŒ‰é’®å¤§å°å¢å¤§ï¼Œä¾¿äºè§¦å±æ“ä½œ
- çŠ¶æ€æ¶ˆæ¯ä½ç½®è°ƒæ•´ï¼Œé¿å…é®æŒ¡å†…å®¹
- å…¨å±æ¨¡å¼é€‚é…ç§»åŠ¨ç«¯å±å¹•

## ğŸ—‚ï¸ æ•°æ®æ ¼å¼

### å†å²è®°å½•æ•°æ®ç»“æ„
```json
{
  "id": "1640995200000",
  "title": "ç”¨æˆ·ç™»å½•æµç¨‹å›¾",
  "code": "graph TD\n    A[å¼€å§‹] --> B{éªŒè¯}",
  "timestamp": "2023-12-31T16:00:00.000Z",
  "preview": "graph TD\\n    A[å¼€å§‹] --> B{éªŒè¯}..."
}
```

### å¯¼å‡ºæ•°æ®æ ¼å¼
```json
{
  "version": "1.0",
  "exportDate": "2023-12-31T16:00:00.000Z",
  "count": 10,
  "data": [...]
}
```

## ğŸš€ éƒ¨ç½²è¯´æ˜

1. å°† `mermaid-history.html` æ–‡ä»¶æ”¾ç½®åœ¨ web æœåŠ¡å™¨ç›®å½•
2. ç¡®ä¿å¯ä»¥è®¿é—® CDN èµ„æºï¼š
   - Mermaid.js: `https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js`
   - html2canvas: `https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js`
3. åœ¨æµè§ˆå™¨ä¸­è®¿é—®è¯¥æ–‡ä»¶å³å¯ä½¿ç”¨

## ğŸ” æµ‹è¯•

è®¿é—® `test-mermaid-history.html` æŸ¥çœ‹åŠŸèƒ½æµ‹è¯•é¡µé¢å’Œä½¿ç”¨è¯´æ˜ã€‚

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.0 - å†å²è®°å½•ç‰ˆæœ¬
- âœ¨ æ–°å¢ï¼šå®Œæ•´çš„å†å²è®°å½•ç®¡ç†åŠŸèƒ½
- âœ¨ æ–°å¢ï¼šæ‰‹æœºç«¯å“åº”å¼é€‚é…
- âœ¨ æ–°å¢ï¼šé”®ç›˜å¿«æ·é”®æ”¯æŒ
- âœ¨ æ–°å¢ï¼šè‡ªåŠ¨æ¸²æŸ“åŠŸèƒ½
- âœ¨ æ–°å¢ï¼šå†å²è®°å½•å¯¼å‡ºåŠŸèƒ½
- ğŸ› ä¿®å¤ï¼šç§»åŠ¨ç«¯æ˜¾ç¤ºé—®é¢˜
- ğŸ’„ ä¼˜åŒ–ï¼šç•Œé¢äº¤äº’ä½“éªŒ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼

## ğŸ“„ è®¸å¯è¯

MIT License